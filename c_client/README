TCP/IP クライアント
=======================================

概要
----
このプログラムは、TCP/IPソケット通信を使用してサーバーと通信するクライアントアプリケーションです。
外部ライブラリに依存せず、標準的なPOSIX準拠のC言語機能のみを使用しているため、
Lineo uLinuxなどの組み込みLinux環境でも動作します。

機能
----
- TCP/IPソケット通信によるサーバーとの通信
- シンプルなコマンドラインインターフェース
- XMLレスポンスの基本的な解析
- 以下のコマンドをサポート:
  * /help   - ヘルプメッセージの表示
  * /clear  - 会話履歴のクリア
  * /models - 利用可能なモデル一覧と現在のモデルを表示
  * /model モデル名 - 使用するモデルを変更
  * exit    - クライアントを終了

必要条件
--------
- C89互換のCコンパイラ (gcc推奨)
- POSIXに準拠したシステム
- 標準的なネットワークライブラリ (socket, netinet等)

ビルド方法
----------
1. ソースディレクトリに移動:
   $ cd c_client

2. ビルド:
   $ make

   これにより、bin/clientという実行ファイルが生成されます。

3. (オプション) インストール:
   $ make install

   これにより、クライアントが/usr/local/binにインストールされます。
   ※インストールには管理者権限が必要な場合があります。

使用方法
--------
1. クライアントの起動:
   $ bin/client [ホスト名] [ポート番号]

   ホスト名とポート番号は省略可能です。省略した場合は以下のデフォルト値が使用されます:
   - ホスト名: 127.0.0.1 (localhost)
   - ポート番号: 3000

   例:
   $ bin/client                  # デフォルト設定で接続 (127.0.0.1:3000)
   $ bin/client 192.168.1.100    # 指定したホストのデフォルトポートに接続
   $ bin/client localhost 4000   # localhostの4000番ポートに接続

2. メッセージの送信:
   プロンプト(>)が表示されたら、メッセージを入力してEnterキーを押します。

3. コマンドの使用:
   以下のコマンドが使用できます:
   - /help   - ヘルプメッセージの表示
   - /clear  - 会話履歴のクリア
   - /models - 利用可能なモデル一覧と現在のモデルを表示
   - /model モデル名 - 使用するモデルを変更
   - exit    - クライアントを終了

4. クライアントの終了:
   'exit'と入力してEnterキーを押すか、Ctrl+Cを押します。

注意事項
--------
- このクライアントは、同じプロトコルを使用するサーバーとのみ通信できます。
- 大量のデータを送受信する場合、バッファサイズを調整する必要があるかもしれません。
- 組み込み環境で使用する場合は、メモリ使用量に注意してください。
- XMLの解析は基本的な実装のみで、複雑なXMLには対応していません。

トラブルシューティング
--------------------
1. 接続エラー:
   - サーバーが起動しているか確認してください。
   - ホスト名とポート番号が正しいか確認してください。
   - ファイアウォールの設定を確認してください。

2. メモリエラー:
   - 大きなメッセージを送受信する場合は、BUFFER_SIZEとMAX_INPUT_SIZEの値を
     src/client.cで調整してから再ビルドしてください。

3. コンパイルエラー:
   - 古いコンパイラを使用している場合は、CFLAGS変数からいくつかの警告フラグを
     削除してみてください。

